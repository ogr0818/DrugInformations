<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=big5">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" 
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" 
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="pratics.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <title>JQuery 練習</title>
</head>
<header></header>
<body>
    <main>
        <div id="collapse">
        <h2>Collapse 展開與收合</h2>
        <p id="news">穩懋財經訊息</p>
        <p id="Context">非蘋智慧型手機需求穩定，穩懋去年第4季營運持續攀高，<br>
            2023年第4季合併營收為48.68億元，季成長16.88%，年成長37.85%，<br>
            優於穩懋財測預估的第4季合併營收較前一季成長low teens(11%到14%)百分比。</p>
        </div>
        <hr>

        <div>
            <h2>表單資料篩選功能</h2>
            <form action="">
            <p id="inputData">請輸入文字： 
            <input type="text" name="" id="myData" placeholder="搜尋資料...">
            </p>
            </form>
            <table class="myTable">
                <thead>
                    <tr>
                        <th style="width: 20%;">代碼</th><th style="width: 60%;">藥名</th><th style="width: 20%;">ATC</th>
                    </tr>
                </thead>
                <tbody id="dataSet">
                    <tr>
                        <td>ASP03O</td><td>Aspirin Protect 100mg Tab</td><td>N02BA01</td>
                    </tr>
                    <tr>
                        <td>AUG03O</td><td>Augmentin 1g Tab</td><td>J01CR02</td>
                    </tr>
                    <tr>
                        <td>PLA03O</td><td>Clopidogrel(Plavix) 75mg Tab</td><td>B01AC04</td>
                    </tr>
                    <tr>
                        <td>ZYV01I</td><td>Zyvox 600mg/300ml Bag</td><td>J01XX08</td>
                    </tr>
                    <tr>
                        <td>TRA02I</td><td>Trandate 25mg/5ml Amp</td><td>C07AG01</td>
                    </tr>
                </tbody>
            </table>
        </div><hr>
        <div class="container">
            <h2>搜尋資料，使用 Font Awesome APIs 及 JQuery UI 連結</h2>
            <form action="" style="font-size: 44px;">
            <i class="fa-brands fa-android fa-xl" style="color: #B197FC;">:</i>    
            輸入資料： <input type="text" id="myBar" placeholder="輸入資料...">
            <button type="button" id="btn"><i class="fa-solid fa-magnifying-glass" style="color: purple;"></i></button>
            </form>
            <p style="font-family: sans-serif; font-size: 24px;">輸入的藥名是: <span id="dataShow"></span></p>
        </div>
        <div id="arraySet">
            <h2>資料格式</h2>
            <p id="arrayShow"></p><p id="arrayShowd"></p>
        </div>

        <div id="message">
            <h2>Read Json Data by JQuery</h2>
            <p id="showJson"></p>
        </div>
    </main> 


    <script>
        $(document).ready(()=>{
            $("#news").mouseover(()=>{
                $("#Context").toggle(3500);
            });        
            // 篩選功能無法使用穩函式
            $("#myData").on("keyup", function() {
                let value = $(this).val().toLowerCase();        
            $("#dataSet tr").filter(function() {
                $(this).toggle($(this).children().eq(0).text().toLowerCase().indexOf(value) >-1)
                });
            });
            
            // 搜尋部份
            $(function() {
                let terms=["Aspirin", "Augmentin", "Plavix",  "Zyvox", "Trandate",];
                $("#myBar").autocomplete({
                    source:terms
                });
                $("#btn").click(function(){
                    let btnvalue = $("#myBar").val();
                    $("#dataShow").text(btnvalue);
                });
            });
        });

        // 陣列設定
        let arrayName = ['國文', '英文', '數學', '物理', '化學'];
        $('#arrayShow').text('共有 '+ arrayName.length + ' 個');
        $("#arrayShowd").html(arrayName.sort());

        // read json data
        $.getJSON("data.json", (data)=>{
            // $("#message").html(data);
            alert(data[456].name)
        });
    </script>   
</body>
<footer></footer>
</html>