<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="six.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- https://animate.style -->
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <!-- Noto Serif font-family: 'Noto Serif TC', serif;-->
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text&family=Noto+Serif+TC:wght@500&display=swap" rel="stylesheet">
    <title>六角學院 JQuery 練習</title>
</head>
<body>
    <h1 style="font-family: 'Times New Roman';">這是一個內容空間</h1>
    <div class="container">這是一個內容空間<br>
        <span data-set="id"></span> is <span data-set="name"></span>
        <span data-set="dose"></span><span data-set="formular"></span>
    </div>
    <div class="block">豬頭猛進</div><hr>
    <div id="container">
        <button type="button" id="btn" style="width: 86px; height: 36px; border-radius: 5px; font-size: larger; color: crimson;">請按我</button>
        <p id="show">仔仔細細端詳</p>
    </div>
    <div id="ajax">
        name: <span data-rlt="name"></span><br>
        age: <span data-rlt="age"></span><br>
        gender: <span data-rlt="gender"></span><br>
        cell: <span data-rlt="cell"></span><br>
        id: <span data-rlt="id"></span><br>
        location: <span data-rlt="location"></span><br>
        <!-- image: <span data-rlt="img"></span> -->
        <img src="" data-rlt="img" alt="" srcset="" width="250px">
    </div>
    <script>
        $(document).ready(()=>{
            $("#btn").click("keyup", ()=>{
                $("#show").text("I am ready!");
                $(".block").toggle();
                $("p").slideToggle(1500);
            });
            $(".block").on("mouseenter", ()=>{
                $(".block").toggleClass("block_r animate__animated animate__wobble")               
            });
            $(".block").on("animationend", ()=>{
                $(this).removeClass("block_r animate__animated animate__wobble")               
            });

            // let id="ASP06O"
            // let name="Aspirin 100 mg tab"
            const drug={
                id:"ASP06O",
                name:"Aspirin",
                dose:"100 mg",
                formular:"tab"
            }
            // $('[data-set="id"]').text(drug.id)
            // $('[data-set="name"]').text(drug.name)
            Object.keys(drug).forEach((key)=> {
                if(drug.id === "ASP06O"){
                    $(`[data-set="${key}"]`).text(drug[key] + " ");
                }else {
                    $(`[data-set="id"]`).text("It ");
                    $(`[data-set="name"]`).text(" null.");
                };                
            });
            // Ajax介紹
            $.ajax({
                url: 'https://randomuser.me/api/',
                dataType: 'json',
                success: function(data) {
                    const result= data.results[0];
                    $('[data-rlt="name"]').text(result.name.first);
                    $('[data-rlt="age"]').text(result.dob.age);
                    $('[data-rlt="gender"]').text(result.gender);
                    $('[data-rlt="cell"]').text(result.cell);
                    $('[data-rlt="id"]').text(result.id.value);
                    $('[data-rlt="location"]').text(`${result.location.city}, \
                    ${result.location.state}, ${result.location.country}`);
                    $('[data-rlt="img"]').attr("src", result.picture.medium)
                }
            });
        })
    </script>
</body>
</html>